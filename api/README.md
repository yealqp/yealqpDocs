# Blessing Skin Dashboard API

è¿™æ˜¯ä¸€ä¸ªç”¨äºè·å– Blessing Skin ä»ªè¡¨ç›˜æ•°æ®çš„ API æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š è·å–ä»ªè¡¨ç›˜ç»Ÿè®¡æ•°æ®
- ğŸ¥ å¥åº·æ£€æŸ¥ç«¯ç‚¹
- ğŸ”’ è‡ªå®šä¹‰é”™è¯¯å¤„ç†
- ğŸ“ ç»“æ„åŒ–æ—¥å¿—è®°å½•
- ğŸŒ CORS æ”¯æŒ

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main.rs          # åº”ç”¨ç¨‹åºå…¥å£ç‚¹
â”œâ”€â”€ types.rs         # æ•°æ®ç»“æ„å®šä¹‰
â”œâ”€â”€ database.rs      # æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
â”œâ”€â”€ handlers.rs      # HTTP è·¯ç”±å¤„ç†å™¨
â”œâ”€â”€ error.rs         # è‡ªå®šä¹‰é”™è¯¯ç±»å‹
â”œâ”€â”€ database.rs      # æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
â””â”€â”€ utils.rs         # å·¥å…·å‡½æ•°
```

## æ¨¡å—è¯´æ˜

### main.rs
- åº”ç”¨ç¨‹åºé…ç½®å’Œå¯åŠ¨
- è·¯ç”±è®¾ç½®
- CORS é…ç½®
- çŠ¶æ€ç®¡ç†

### types.rs
- API å“åº”ç»“æ„
- é…ç½®æ•°æ®ç»“æ„
- ä¸šåŠ¡æ•°æ®æ¨¡å‹

### database.rs
- MySQL æ•°æ®åº“è¿æ¥
- æ•°æ®æŸ¥è¯¢é€»è¾‘
- ç»Ÿè®¡ä¿¡æ¯è®¡ç®—

### handlers.rs
- HTTP ç«¯ç‚¹å¤„ç†å™¨
- å“åº”æ ¼å¼åŒ–
- é”™è¯¯å¤„ç†

### error.rs
- è‡ªå®šä¹‰é”™è¯¯ç±»å‹
- é”™è¯¯è½¬æ¢å®ç°
- HTTP å“åº”æ˜ å°„

### utils.rs
- é€šç”¨å·¥å…·å‡½æ•°
- å“åº”åˆ›å»ºåŠ©æ‰‹
- æ–‡æœ¬å¤„ç†å‡½æ•°

## é…ç½®

ç¼–è¾‘ `config.toml` æ–‡ä»¶ï¼š

```toml
[server]
# backend_host
host = "0.0.0.0"
port = 5000

[database]
# blessingskin_database_host
url = "mysql://root:password@example.com:3389/database_name" 

[cos_s3]
bucket = ""
region = ""
endpoint = ""
access_key = ""
secret_key = ""

```

## API ç«¯ç‚¹

### GET /health
å¥åº·æ£€æŸ¥ç«¯ç‚¹

### GET /api/dashboard
è·å–ä»ªè¡¨ç›˜ç»Ÿè®¡æ•°æ®

### GET /api/cos_size
è·å–COSå­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ

## è¿è¡Œ

```bash
cargo run
```

## æ„å»º

```bash
cargo build --release
```

## é‡æ„æ”¹è¿›

1. **æ¨¡å—åŒ–è®¾è®¡**: å°†ä»£ç åˆ†ç¦»åˆ°ä¸åŒçš„æ¨¡å—ä¸­ï¼Œæé«˜å¯ç»´æŠ¤æ€§
2. **é”™è¯¯å¤„ç†**: ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ç±»å‹å’Œç»Ÿä¸€çš„é”™è¯¯å¤„ç†
3. **ä»£ç å¤ç”¨**: æå–é€šç”¨å·¥å…·å‡½æ•°ï¼Œå‡å°‘é‡å¤ä»£ç 
4. **ç±»å‹å®‰å…¨**: æ”¹è¿›ç±»å‹å®šä¹‰å’Œé”™è¯¯å¤„ç†
5. **æ–‡æ¡£åŒ–**: æ·»åŠ è¯¦ç»†çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£ 